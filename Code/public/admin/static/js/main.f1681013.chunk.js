(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{31:function(e,a,t){e.exports=t(58)},58:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(28),c=t.n(l),s=t(1),o=t(2),i=t(4),m=t(3),d=t(5),u=t(12),p=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={props:e},r}return Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("li",{className:"nav-item"},n.a.createElement(u.c,{exact:!0,to:this.props.link,className:"nav-link"},n.a.createElement("i",{className:this.props.icon}),n.a.createElement("span",null,"    ",this.props.title)))}}]),t}(n.a.Component);var h=function(e){return n.a.createElement("div",null,n.a.createElement("ul",{className:"navbar-nav bg-gradient-primary sticky-top sidebar sidebar-dark accordion",id:"accordionSidebar"},n.a.createElement("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"/"},n.a.createElement("div",{className:"sidebar-brand-icon"},n.a.createElement("i",{className:"fas fa-chart-line"})),n.a.createElement("div",{className:"sidebar-brand-text mx-3"},"Rockolla")),n.a.createElement("hr",{className:"sidebar-divider my-0"}),n.a.createElement(p,{title:"Dashboard",link:"/admin/dashboard",icon:"fas fa-fw fa-tachometer-alt"}),n.a.createElement("hr",{className:"sidebar-divider"}),n.a.createElement("div",{className:"sidebar-heading"},"Productos"),n.a.createElement(p,{title:"Listar Productos",link:"/admin/dashboard/products",icon:"fas fa-table"}),n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{href:"".concat(e.rockollaUrl,"products/create"),className:"nav-link"},n.a.createElement("i",{className:"fas fa-plus"}),n.a.createElement("span",null,' "Agregar Productos"'))),n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{href:"".concat(e.rockollaUrl,"products/"),className:"nav-link"},n.a.createElement("i",{className:"fas fa-edit"}),n.a.createElement("span",null,' "Editar Productos"'))),n.a.createElement("div",{className:"sidebar-heading"},"Ventas"),n.a.createElement(p,{title:"Listar Ventas",link:"/admin/dashboard/sales",icon:"fa fa-shopping-cart"}),n.a.createElement("div",{className:"sidebar-heading"},"Usuarios"),n.a.createElement(p,{title:"Ver Usuarios",link:"/admin/dashboard/users",icon:"fas fa-address-book"}),n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{href:"".concat(e.rockollaUrl,"admin/create"),className:"nav-link"},n.a.createElement("i",{className:"fas fa-key"}),n.a.createElement("span",null,' "Agregar Administrador"'))),n.a.createElement("hr",{className:"sidebar-divider d-none d-md-block"})))};var b=function(){return n.a.createElement("footer",{className:"sticky-footer bg-white"},n.a.createElement("div",{className:"container my-auto"},n.a.createElement("div",{className:"copyright text-center my-auto"},n.a.createElement("span",null,"Copyright \xa9 Rockolla 2020"))))};var E=function(){return n.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},n.a.createElement("button",{id:"sidebarToggleTop",className:"btn btn-link d-md-none rounded-circle mr-3"},n.a.createElement("i",{className:"fa fa-bars"})),n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("div",{className:"topbar-divider d-none d-sm-block"}),n.a.createElement("li",{className:"nav-item dropdown no-arrow"},n.a.createElement("a",{className:"nav-link dropdown-toggle",href:"/user/profile",id:"userDropdown"},n.a.createElement("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small"},"Administraci\xf3n"),n.a.createElement("img",{className:"img-profile rounded-circle",src:"/images/dummy-avatar.jpg",alt:"user avatar"})))))},v=t(10),f=t.n(v),g=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={props:e},r}return Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"card border-left-".concat(this.props.color," shadow h-100 py-2")},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row no-gutters align-items-center"},n.a.createElement("div",{className:"col mr-2"},n.a.createElement("div",{className:"text-xs font-weight-bold text-".concat(this.props.color," text-uppercase mb-1")}," ",this.props.title,this.state.length),n.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},this.props.ammount)),n.a.createElement("div",{className:"col-auto"},n.a.createElement("i",{className:"fas ".concat(this.props.icon," fa-2x text-gray-300")})))))}}]),t}(n.a.Component);var k=function(e){return n.a.createElement("div",{className:"card shadow mb-4"},n.a.createElement("div",{className:"card-header py-3"},n.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},e.header)),n.a.createElement("div",{className:"card-body"},e.children))};var N=function(e){return n.a.createElement(n.a.Fragment,null,e.categories.map((function(e,a){return n.a.createElement("div",{className:"col-lg-6 mb-4",key:a},n.a.createElement("div",{className:"card bg-info text-white shadow"},n.a.createElement("div",{className:"card-body"},n.a.createElement(u.b,{to:"/admin/dashboard/".concat(e.toString().toLowerCase())},e))))})))},j=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={props:e,products:{meta:{total:0}},capital:0,users:{meta:{total:0}},latest:{description:""},cover:"",renderTable:!1,tableData:""},r}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(this.props.rockollaUrl,"api/product")).then((function(a){var t=a.data;e.setState({products:t});var r=0;t.data.forEach((function(e){r+=e.price*e.stock})),e.setState({capital:r})})).catch((function(e){return console.log(e)})),f.a.get("".concat(this.props.rockollaUrl,"api/product/latest")).then((function(a){var t=a.data.data[0];e.setState({latest:t}),e.setState({cover:"images/tapas/"+t.cover})})).catch((function(e){return console.log(e)})),f.a.get("".concat(this.props.rockollaUrl,"api/user")).then((function(a){var t=a.data;e.setState({users:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},n.a.createElement("h1",{className:"h3 mb-0 text-gray-800"},"Rockolla Dashboard")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-4 mb-4"},n.a.createElement(g,{title:"Discos en Base de Datos",ammount:this.state.products.meta.total||"",color:"primary",icon:"fa-clipboard-list"})),n.a.createElement("div",{className:"col-md-4 mb-4"},n.a.createElement(g,{title:"Dinero en Productos",ammount:this.state.capital||"",color:"success",icon:"fa-dollar-sign"})),n.a.createElement("div",{className:"col-md-4 mb-4"},n.a.createElement(g,{title:"Cantidad de Usuarios",ammount:this.state.users.meta.total||"",color:"warning",icon:"fa-user-check"}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6 mb-4"},n.a.createElement(k,{header:"Ultimo producto en Base de Datos"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{className:"img-fluid px-3 px-sm-4 mt-3 mb-4",style:{width:"25rem"},src:"http://localhost:3001/".concat(this.state.cover),alt:"cover"})),n.a.createElement("h2",{className:"text-center text-dark"},this.state.latest.title),n.a.createElement("p",null,this.state.latest.description),n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://localhost:3001/products/"+this.state.latest.id},"Detalle del producto"))),n.a.createElement("div",{className:"col-lg-6 mb-4"},n.a.createElement(k,{header:"Categories in Database"},n.a.createElement("div",{className:"row"},n.a.createElement(N,{categories:["Artist","Genre","Format","Label"]}))))))}}]),t}(n.a.Component),y=t(30),O=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={data:r.props.data.data,cols:Object.keys(r.props.data.data[0]),rows:Object(y.a)(r.props.data.data)},r}return Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("table",{className:"table table-bordered"},n.a.createElement("thead",null,n.a.createElement("tr",null,this.state.cols.map((function(e,a){return n.a.createElement("th",{scope:"col",key:a},e)})))),n.a.createElement("tbody",null,this.state.rows.map((function(a,t){return n.a.createElement(n.a.Fragment,{key:t},n.a.createElement("tr",null,e.state.cols.map((function(e,t){return n.a.createElement("td",{key:t}," ",a[e]," ")}))))}))))}}]),t}(r.Component),x=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={props:e,renderTable:!1,products:{},rockollaUrl:r.props.rockollaUrl},r}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(this.state.rockollaUrl,"api/product")).then((function(a){var t=a.data;e.setState({products:t}),e.setState({renderTable:!0})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},n.a.createElement("h1",{className:"h3 mb-0 text-gray-800"},"Productos")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-10 mb-6"},this.state.renderTable&&n.a.createElement(O,{data:this.state.products}))))}}]),t}(n.a.Component),w=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={props:e,renderTable:!1,sales:{},total:0,cols:["Id","User","Total","Date","State","Products"]},r}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(this.props.rockollaUrl,"api/carts")).then((function(a){var t=a.data.data,r=a.data.meta.total,n=[];t.forEach((function(e){var a={id:e.id,user:e.user.email,total:e.total,date:e.date,state:e.cart_state.state_name,products:[]};e.products.forEach((function(e){a.products.push({ammount:e.ammount,title:e.product.title})})),n.push(a)})),e.setState({sales:n}),e.setState({total:r}),e.setState({renderTable:!0})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},n.a.createElement("h1",{className:"h3 mb-0 text-gray-800"},"Ventas"),n.a.createElement("h2",null,this.state.total)),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-10 mb-6"},this.state.renderTable&&n.a.createElement("table",{className:"table table-bordered"},n.a.createElement("thead",null,n.a.createElement("tr",null,this.state.cols.map((function(e,a){return n.a.createElement("th",{scope:"col",key:a},e)})))),n.a.createElement("tbody",null,this.state.sales.map((function(e,a){return n.a.createElement(n.a.Fragment,{key:a},n.a.createElement("tr",{key:a},n.a.createElement("td",null,e.id),n.a.createElement("td",null,e.user),n.a.createElement("td",null,e.total),n.a.createElement("td",null,e.date),n.a.createElement("td",null,e.state),n.a.createElement("td",null,e.products.map((function(e,a){return n.a.createElement("p",{key:a}," ","".concat(e.ammount," X ").concat(e.title)," ")})))))})))))))}}]),t}(n.a.Component),U=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={props:e},r}return Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h2",null,"Shipping"))}}]),t}(n.a.Component),T=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={props:e,renderTable:!1,users:{},rockollaUrl:r.props.rockollaUrl},r}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(this.state.rockollaUrl,"api/user")).then((function(a){var t=a.data;e.setState({users:t}),e.setState({renderTable:!0})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-sm-flex align-items-center justify-content-between mb-4"},n.a.createElement("h1",{className:"h3 mb-0 text-gray-800"},"Usuarios")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-10 mb-6"},this.state.renderTable&&n.a.createElement(O,{data:this.state.users}))))}}]),t}(n.a.Component),S=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={props:e},r}return Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h2",null,"NewAdmin"))}}]),t}(n.a.Component),D=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={props:e,tableToRender:r.props.table,renderTable:!1,data:{},rockollaUrl:r.props.rockollaUrl},r}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.tableToRender&&f.a.get("".concat(this.props.rockollaUrl,"api/").concat(this.state.tableToRender)).then((function(a){var t=a.data;e.setState({data:t}),e.setState({renderTable:!0})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-10 mb-6"},n.a.createElement("h2",null,"".concat(this.state.tableToRender,"s:")),n.a.createElement("h3",null,"Total: ".concat(this.state.renderTable&&this.state.data.meta.total)),this.state.renderTable&&n.a.createElement(O,{data:this.state.data}))))}}]),t}(n.a.Component),C=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(s.a)(this,t),(r=a.call(this,e)).state={rockolla:r.props.rockollaUrl},r}return Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{id:"wrapper"},n.a.createElement(h,{rockollaUrl:this.state.rockolla}),n.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},n.a.createElement("div",{id:"content"},n.a.createElement(E,null)),n.a.createElement("div",{className:"container-fluid"},n.a.createElement(d.a,{exact:!0,path:"/admin/dashboard",render:function(a){return n.a.createElement(j,Object.assign({},a,{rockollaUrl:e.state.rockolla}))}}),n.a.createElement(d.a,{exact:!0,path:"/admin/dashboard/products",render:function(a){return n.a.createElement(x,Object.assign({},a,{rockollaUrl:e.state.rockolla}))}}),n.a.createElement(d.a,{exact:!0,path:"/admin/dashboard/users",render:function(a){return n.a.createElement(T,Object.assign({},a,{rockollaUrl:e.state.rockolla}))}}),n.a.createElement(d.a,{exact:!0,path:"/admin/dashboard/sales",render:function(a){return n.a.createElement(w,Object.assign({},a,{rockollaUrl:e.state.rockolla}))}}),n.a.createElement(d.a,{exact:!0,path:"/admin/dashboard/shipping",component:U}),n.a.createElement(d.a,{exact:!0,path:"/admin/dashboard/admin",component:S}),n.a.createElement(d.a,{exact:!0,path:"/admin/dashboard/genre",render:function(a){return n.a.createElement(D,Object.assign({},a,{table:"genre",rockollaUrl:e.state.rockolla}))}}),n.a.createElement(d.a,{exact:!0,path:"/admin/dashboard/artist",render:function(a){return n.a.createElement(D,Object.assign({},a,{table:"artist",rockollaUrl:e.state.rockolla}))}}),n.a.createElement(d.a,{exact:!0,path:"/admin/dashboard/format",render:function(a){return n.a.createElement(D,Object.assign({},a,{table:"format",rockollaUrl:e.state.rockolla}))}}),n.a.createElement(d.a,{exact:!0,path:"/admin/dashboard/label",render:function(a){return n.a.createElement(D,Object.assign({},a,{table:"label",rockollaUrl:e.state.rockolla}))}})),n.a.createElement(b,null))))}}]),t}(n.a.Component);c.a.render(n.a.createElement(u.a,null,n.a.createElement(C,{rockollaUrl:"http://localhost:3001/"})),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.f1681013.chunk.js.map